# Makefile.am automatically generated by testcase-maker.
# If you make changes here they will go away.

VMIPSTOOL = ../../vmipstool -n -F ../../vmipsrc --ld-script=@top_srcdir@/sample_code/ld.script
CPP_FLAGS = -I@top_srcdir@ -I@top_srcdir@/sample_code
AM_CFLAGS = -g $(CPP_FLAGS)
SETUP = ../../sample_code/setup.o

# makefile_fragment loser
loser_SOURCES = loser.S
loser.rom: loser.exe
	$(VMIPSTOOL) --make-rom loser.exe loser.tmp
	dd if=loser.tmp bs=4 count=1 of=loser.rom >/dev/null 2>&1
	rm loser.tmp

# empty 

# simple_asm bdexcp
# multifile_asm -setup 0 bdexcp bdexcp.S
bdexcp_SOURCES = bdexcp.S
bdexcp.rom: bdexcp.exe
	$(VMIPSTOOL) --make-rom bdexcp.exe bdexcp.rom

# simple_asm poke2
# multifile_asm -setup 0 poke2 poke2.S
poke2_SOURCES = poke2.S
poke2.rom: poke2.exe
	$(VMIPSTOOL) --make-rom poke2.exe poke2.rom

# simple_asm instcounts
# multifile_asm -setup 0 instcounts instcounts.S
instcounts_SOURCES = instcounts.S
instcounts.rom: instcounts.exe
	$(VMIPSTOOL) --make-rom instcounts.exe instcounts.rom

# simple_asm exception
# multifile_asm -setup 0 exception exception.S
exception_SOURCES = exception.S
exception.rom: exception.exe
	$(VMIPSTOOL) --make-rom exception.exe exception.rom

# simple_c emptymain
# multifile_c emptymain emptymain.c
emptymain_LDFLAGS = $(SETUP)
emptymain_SOURCES = emptymain.c
emptymain.rom: emptymain.exe
	$(VMIPSTOOL) --make-rom emptymain.exe emptymain.rom

# simple_asm simpledis
# multifile_asm -setup 0 simpledis simpledis.S
simpledis_SOURCES = simpledis.S
simpledis.rom: simpledis.exe
	$(VMIPSTOOL) --make-rom simpledis.exe simpledis.rom

# simple_asm unaligned
# multifile_asm -setup 0 unaligned unaligned.S
unaligned_SOURCES = unaligned.S
unaligned.rom: unaligned.exe
	$(VMIPSTOOL) --make-rom unaligned.exe unaligned.rom

# empty 

# empty 

# simple_c hello2
# multifile_c hello2 hello2.c
hello2_LDFLAGS = $(SETUP)
hello2_SOURCES = hello2.c
hello2.rom: hello2.exe
	$(VMIPSTOOL) --make-rom hello2.exe hello2.rom

# simple_c hello
# multifile_c hello hello.c
hello_LDFLAGS = $(SETUP)
hello_SOURCES = hello.c
hello.rom: hello.exe
	$(VMIPSTOOL) --make-rom hello.exe hello.rom

# simple_asm sb-print
# multifile_asm -setup 0 sb-print sb-print.S
sb_print_SOURCES = sb-print.S
sb-print.rom: sb-print.exe
	$(VMIPSTOOL) --make-rom sb-print.exe sb-print.rom

noinst_PROGRAMS =  loser bdexcp poke2 instcounts exception emptymain simpledis unaligned hello2 hello sb-print

LINK = $(VMIPSTOOL) --link -o $@
COMPILE = $(VMIPSTOOL) --compile $(CFLAGS)
ASCOMPILE = $(VMIPSTOOL) --compile $(CFLAGS)
CCASCOMPILE = $(VMIPSTOOL) --compile $(CFLAGS)
EXEEXT = .exe

CLEANFILES =  loser.rom bdexcp.rom poke2.rom instcounts.rom exception.rom emptymain.rom simpledis.rom unaligned.rom hello2.rom hello.rom sb-print.rom

EXTRA_DIST =  outcheck.exp  loser.par badargs.par bdexcp.par poke2.par instcounts.par exception.par emptymain.par simpledis.par unaligned.par nonexistent.par badoption.par hello2.par hello.par sb-print.par

# 3 C testcases and 7 asm testcases.
# 4 custom makefile fragment testcases.
