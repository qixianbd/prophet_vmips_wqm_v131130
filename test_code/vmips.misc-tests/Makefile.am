# Makefile.am automatically generated by testcase-maker.
# If you make changes here they will go away.

VMIPSTOOL = ../../vmipstool -n -F ../../vmipsrc --ld-script=@top_srcdir@/sample_code/ld.script
CPP_FLAGS = -I@top_srcdir@ -I@top_srcdir@/sample_code
AM_CFLAGS = -g $(CPP_FLAGS)
SETUP = ../../sample_code/setup.o

# multifile_c sort {sort.c random.c}
sort_LDFLAGS = $(SETUP)
sort_SOURCES = sort.c random.c
sort.rom: sort.exe
	$(VMIPSTOOL) --make-rom sort.exe sort.rom

# simple_c echo
# multifile_c echo echo.c
echo_LDFLAGS = $(SETUP)
echo_SOURCES = echo.c
echo.rom: echo.exe
	$(VMIPSTOOL) --make-rom echo.exe echo.rom

# simple_asm clocker
# multifile_asm -setup 0 clocker clocker.S
clocker_SOURCES = clocker.S
clocker.rom: clocker.exe
	$(VMIPSTOOL) --make-rom clocker.exe clocker.rom

noinst_PROGRAMS =  sort echo clocker

LINK = $(VMIPSTOOL) --link -o $@
COMPILE = $(VMIPSTOOL) --compile $(CFLAGS)
ASCOMPILE = $(VMIPSTOOL) --compile $(CFLAGS)
CCASCOMPILE = $(VMIPSTOOL) --compile $(CFLAGS)
EXEEXT = .exe

CLEANFILES =  sort.rom echo.rom clocker.rom

EXTRA_DIST =  sort.exp echo.exp clocker.exp  sort.par echo.par clocker.par

# 2 C testcases and 1 asm testcases.
# 0 custom makefile fragment testcases.
